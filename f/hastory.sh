hastory() { time=$(date +%y%m%d_%H%M%S); printf %b "-\e[222b\n$logs/hist/$time.log\n-\e[222b\n"; local HISTTIMEFORMAT="%H:%M:%S "; history|cut -f 5- -d " "|bat -ppfljava|fzf --tmux --no-preview --with-nth 2.. --delimiter " " --tac --wrap --bind "pgup:half-page-up,1:change-nth(1),change:pos(1),home:pos(1),end:pos(-1)"|cut -f 2- -d " "|tee $logs/hist/$time.log; if [ $(cat $logs/hist/$time.log|wc -l) -gt 0 ]; then history -a; history -s "hastory"; history -s "$(cat $logs/hist/$time.log)"; else rm $logs/hist/$time.log; fi; printf %b "-\e[222b"; };
